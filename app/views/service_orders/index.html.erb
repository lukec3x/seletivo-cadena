<h1>Service Orders</h1>

<form>
  <label>Data:</label>
  <input type="date" name="created_at" value="<%= params[:created_at] %>">

  <label>Status:</label>
  <select name="status">
    <option value="">Todos</option>
    <option value="open" <%= params[:status] == "open" ? "selected" : "" %>>Aberto</option>
    <option value="in_progress" <%= params[:status] == "in_progress" ? "selected" : "" %>>Em andamento</option>
    <option value="completed" <%= params[:status] == "completed" ? "selected" : "" %>>Concluído</option>
    <option value="inactive" <%= params[:status] == "inactive" ? "selected" : "" %>>Inativo</option>
  </select>

  <label>Nome do cliente:</label>
  <input type="text" name="client_name" value="<%= params[:client_name] %>">

  <button type="submit">Filtrar</button>
</form>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Cliente</th>
      <th>Descrição</th>
      <th>Status</th>
      <th>Data</th>
      <%# <th>Ações</th> %>
    </tr>
  </thead>
  <tbody>
    <% @service_orders.each do |service_order| %>
      <tr>
        <td><%= service_order.id %></td>
        <td><%= service_order.client_name %></td>
        <td><%= service_order.description %></td>
        <td><%= service_order.status %></td>
        <td><%= service_order.created_at %></td>
        <td>
          <%# link_to "Editar", edit_service_order_path(service_order) %>
          <%# link_to "Excluir", service_order_path(service_order), method: :delete, data: { confirm: "Tem certeza que deseja excluir?" } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= button_to "Create Service Order", new_service_order_path, method: :get %> 
